(this.webpackJsonphorus_party=this.webpackJsonphorus_party||[]).push([[0],{103:function(e,t,n){e.exports=n(172)},142:function(e,t){},158:function(e,t){},160:function(e,t){},172:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(82),i=n.n(c),l=n(83),o=n(84),u=n(101),s=n(98),m=n(96),f=n(5),d=n(26),p=n(85),h=n(2),b=n(88),E=n(89),g=n(48),v=n(38),j=n.n(v);function x(e){var t,n={p:2,boxShadow:"0 0 4px rgba(145, 145, 145, .500)",borderRadius:"10px"},c=Object(a.useState)(e.name),i=Object(d.a)(c,2),l=i[0],o=i[1];Object(a.useEffect)((function(){j.a.setItem("userName",l)}));return r.a.createElement(h.a,{p:4,textAlign:"center"},r.a.createElement(h.d,null," Ol\xe1,",r.a.createElement(b.a,{name:"name",display:"inline",sx:{border:0,borderBottom:"2px solid",outline:"none",transition:".2s ease-in-out",boxSizing:"border-box"},width:1/8,defaultValue:l,placeholder:"seu nome, queridx",onChange:function(e){return o(e.target.value)},ref:function(e){t=e}}),r.a.createElement(h.e,{sx:{display:"inline-block",fontWeight:"bold",px:2,py:1,color:"inherit",mt:1,p:2,pt:2,pb:1},href:"#"},r.a.createElement(E.a,{onClick:function(e){return t.focus()}}))),r.a.createElement(h.c,{p:4},r.a.createElement(h.a,{width:1/4}),r.a.createElement(h.b,{width:.5,sx:n,p:4},r.a.createElement(h.d,null,"Horus \xe9 um app de v\xeddeo confer\xeancias instant\xe2neas."),r.a.createElement(h.d,null,"Para utilizar \xe9 simples, basta criar uma nova sala e enviar o link para seus convidados!")),r.a.createElement(h.a,{width:1/4})),r.a.createElement(h.c,null,r.a.createElement(h.a,{width:.5,p:3},r.a.createElement(h.b,{sx:n},r.a.createElement(h.e,{onClick:function(){var t=Object(p.v1)();e.history.push("/room/".concat(t))}}," ",r.a.createElement(g.a,null)),r.a.createElement(h.d,null,"Criar nova sala"))),r.a.createElement(h.a,{width:.5,p:3},r.a.createElement(h.b,{sx:n},r.a.createElement(h.e,null," ",r.a.createElement(g.a,null)),r.a.createElement(h.d,null,"Entrar em sala j\xe1 existente")))))}var O=n(99),w=n(49),I=n(90),k=n.n(I),y=n(50),D=n.n(y),S=n(51);function C(){var e=Object(w.a)(["\n    height: 40%;\n    width: 50%;\n"]);return C=function(){return e},e}function R(){var e=Object(w.a)(["\n    padding: 20px;\n    display: flex;\n    height: 100vh;\n    width: 90%;\n    margin: auto;\n    flex-wrap: wrap;\n"]);return R=function(){return e},e}var W=S.a.div(R()),H=S.a.video(C()),A=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){e.peer.on("stream",(function(e){t.current.srcObject=e}))}),[]),r.a.createElement(H,{playsInline:!0,autoPlay:!0,ref:t})},B={height:window.innerHeight/2,width:window.innerWidth/2},P=function(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),c=n[0],i=n[1],l=Object(a.useRef)(),o=Object(a.useRef)(),u=Object(a.useRef)([]),s=e.match.params.roomID;return Object(a.useEffect)((function(){l.current=k.a.connect("http://localhost:4000/"),navigator.mediaDevices.getUserMedia({video:B,audio:!0}).then((function(e){o.current.srcObject=e,l.current.emit("join room",s),l.current.on("all users",(function(t){var n=[];t.forEach((function(t){var a=function(e,t,n){var a=new D.a({initiator:!0,trickle:!1,stream:n});return a.on("signal",(function(n){l.current.emit("sending signal",{userToSignal:e,callerID:t,signal:n})})),a}(t,l.current.id,e);console.log(a),u.current.push({peerID:t,peer:a}),n.push(a)})),i(n)})),l.current.on("user joined",(function(t){if(!u.current.find((function(e){return e.peerID===t.callerID}))){var n=function(e,t,n){var a=new D.a({initiator:!1,trickle:!1,stream:n});return a.on("signal",(function(e){l.current.emit("returning signal",{signal:e,callerID:t})})),a.signal(e),a}(t.signal,t.callerID,e);u.current.push({peerID:t.callerID,peer:n}),i((function(e){return[].concat(Object(O.a)(e),[n])}))}})),l.current.on("receiving returned signal",(function(e){u.current.find((function(t){return t.peerID===e.id})).peer.signal(e.signal)}))}))}),[]),r.a.createElement(W,null,r.a.createElement(H,{muted:!0,ref:o,autoPlay:!0,playsInline:!0}),c.map((function(e,t){return r.a.createElement(A,{key:t,peer:e})})))},_=n(100),z=n(53),F=n(92),J=n.n(F),L=n(93),N=n(95);function T(e){var t=Object(L.b)(),n=Object(d.a)(t,2),a=n[0],c=n[1],i={display:"inline-block",fontWeight:"bold",px:2,py:1,color:"inherit",mt:1,p:2,pt:2,pb:1};return r.a.createElement(h.c,{px:2,alignItems:"center"},r.a.createElement(h.a,{width:1/3},r.a.createElement(h.e,{sx:i,href:e.homeLink,fontWeight:"bold"},"Horus")),r.a.createElement(h.a,{width:1/3},r.a.createElement(h.f,{sx:Object(_.a)({p:2},{fontWeight:"bold",textAlign:"center"})},r.a.createElement(J.a,{lightness:.5,saturation:1}," Feito com amor no Brasil "),r.a.createElement(r.a.Fragment,null," "),r.a.createElement(z.a,null))),r.a.createElement(h.a,{mx:"auto"}),r.a.createElement(h.e,{href:"https://github.com/carlosmds/horus",target:"_blank",sx:i},"Abrir no GitHub ",r.a.createElement(N.a,null)),r.a.createElement(h.e,{href:"#",sx:i,onClick:function(e){c("default"===a?"dark":"default")}},"Tema ","default"===a?"escuro":"claro"," ",r.a.createElement(z.b,null)))}var q=n(173),G=n(97),M=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state=a.getInitialState(),a}return Object(o.a)(n,[{key:"getInitialState",value:function(){return{name:j.a.getItem("userName")||""}}},{key:"render",value:function(){var e=this;return r.a.createElement(q.a,{theme:G.a},this.props.children,r.a.createElement(T,{homeLink:"http://localhost:3000/"}),r.a.createElement(m.a,null,r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/",exact:!0,render:function(t){return r.a.createElement(x,Object.assign({},t,{name:e.state.name}))}}),r.a.createElement(f.a,{path:"/room/:roomID",component:P}))))}}]),n}(r.a.Component);i.a.render(r.a.createElement(M,null),document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.cb2e4f8d.chunk.js.map